<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <meta name="theme-color" content="#FF6B6B">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Hesap Payla≈ü">
    <meta name="description" content="Hƒ±zlƒ± ve adil hesap b√∂l√º≈üt√ºrme uygulamasƒ±">
    <meta name="keywords" content="hesap, b√∂l√º≈üme, restoran, seyahat, payla≈üma">
    
    <title>Hesap Payla≈ü</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'><rect fill='%23FF6B6B' width='192' height='192'/><text x='96' y='110' font-size='80' font-weight='bold' text-anchor='middle' fill='white' font-family='Arial'>HP</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'><rect fill='%23FF6B6B' width='180' height='180' rx='40'/><text x='90' y='105' font-size='70' font-weight='bold' text-anchor='middle' fill='white' font-family='Arial'>HP</text></svg>">
    
    <link rel="stylesheet" href="styles.css?v=30">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <style>
        * {
            -webkit-user-select: none;
            user-select: none;
        }
        input, textarea, select {
            -webkit-user-select: text;
            user-select: text;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Onboarding/Kayƒ±t Sayfasƒ± -->
        <div id="onboardingPage" class="page active">
            <div class="onboarding-content">
                <div class="onboarding-header">
                    <h1 style="font-size: 2.5em; margin-bottom: 10px;">üçΩÔ∏è Hesap / Payla≈ü</h1>
                    <p style="font-size: 1.2em; color: #666;">Adil √á√∂z√ºm</p>
                </div>
                
                <div class="benefits-section">
                    <h2>√úyelik Avantajlarƒ±</h2>
                    <div class="benefits-grid">
                        <div class="benefit-card">
                            <div class="benefit-icon">üéüÔ∏è</div>
                            <p>Kuponlar &<br>Promosyonlar</p>
                        </div>
                        <div class="benefit-card">
                            <div class="benefit-icon">‚öñÔ∏è</div>
                            <p>Kolay ve Adil<br>B√∂l√º≈üme</p>
                        </div>
                        <div class="benefit-card">
                            <div class="benefit-icon">‚ö°</div>
                            <p>Hƒ±zlƒ± Rezervasyon<br>& Sipari≈ü</p>
                        </div>
                    </div>
                </div>

                <div class="signup-section">
                    <!-- Tab butonlarƒ± -->
                    <div class="auth-tabs">
                        <button class="tab-btn active" id="signupTabBtn" onclick="showAuthForm('signup')">√úye Ol</button>
                        <button class="tab-btn" id="loginTabBtn" onclick="showAuthForm('login')">Giri≈ü Yap</button>
                    </div>
                    
                    <!-- Signup Form -->
                    <div id="signupForm" class="auth-form">
                        <h3>Hemen Ba≈üla</h3>
                        
                        <div class="social-signin" id="googleSignInContainer">
                            <!-- Google Sign-In button rendered here (production only) -->
                        </div>
                        
                        <div class="divider">
                            <span>veya</span>
                        </div>

                        <form id="manualSignupForm" class="signup-form" onsubmit="handleManualSignup(event)">
                            <div class="form-group">
                                <input type="text" id="signupFirstName" placeholder="Ad" required>
                            </div>
                            <div class="form-group">
                                <input type="text" id="signupLastName" placeholder="Soyad" required>
                            </div>
                            <div class="form-group">
                                <input type="tel" id="phone" placeholder="Telefon (0541 234 5678)" required>
                            </div>
                            <div class="form-group">
                                <input type="email" id="email" placeholder="E-posta" required>
                            </div>
                            <div class="form-group">
                                <input type="password" id="password" placeholder="≈ûifre" required>
                            </div>
                            <button type="submit" class="btn-primary" style="width: 100%;">√úye Ol</button>
                        </form>

                        <p class="terms-text">Kaydolarak <a href="#">≈ûartlarƒ±</a> kabul etmi≈ü olursunuz</p>
                    </div>
                    
                    <!-- Login Form -->
                    <div id="loginForm" class="auth-form" style="display: none;">
                        <h3>Hesabƒ±na Giri≈ü Yap</h3>
                        
                        <form id="manualLoginForm" class="login-form" onsubmit="handleManualLogin(event)">
                            <div class="form-group">
                                <input type="email" id="loginEmail" placeholder="E-posta" required>
                            </div>
                            <div class="form-group">
                                <input type="password" id="loginPassword" placeholder="≈ûifre" required>
                            </div>
                            <button type="submit" class="btn-primary" style="width: 100%;">Giri≈ü Yap</button>
                        </form>

                        <p class="terms-text" style="margin-top: 15px;"><a href="#" onclick="showAuthForm('signup'); return false;">Hesabƒ±n yok mu? √úye ol</a></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ana Sayfa -->
        <div id="homePage" class="page">
            <div class="header">
                <h1>
                    <span class="hesap">Hesap</span>
                    <span class="slash">/</span>
                    <span class="paylas">Payla≈ü</span>
                </h1>
                <p class="tagline">Adil √á√∂z√ºm!</p>
                
                <!-- Profil ƒ∞konu -->
                <button class="profile-btn" onclick="goToProfile()" title="Profil">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                </button>
            </div>
            
            <div class="options-grid">
                <div class="option-card" onclick="goToGroupMode()">
                    <div class="option-icon">üë•</div>
                    <h2>Grup Kur / Katƒ±l</h2>
                </div>
                
                <div class="option-card" onclick="goToReservationMode()">
                    <div class="option-icon">üéüÔ∏è</div>
                    <h2>Rezeve Et / Kupon Al</h2>
                </div>
            </div>
        </div>

        <!-- Bilgi Giri≈üi Sayfasƒ± -->
        <!-- Grup Se√ßimi Sayfasƒ± -->
        <div id="groupChoicePage" class="page">
            <div class="back-button" onclick="backToHome()">‚Üê Geri</div>
            
            <div class="options-grid" style="margin-top: 50px;">
                <div class="option-card" onclick="goToCreateGroup()" style="background: linear-gradient(135deg, #11a853 0%, #0d7e3a 100%);">
                    <div class="option-icon">‚ûï</div>
                    <h2>Grup Kur</h2>
                </div>
                
                <div class="option-card" onclick="goToJoinGroup()" style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);">
                    <div class="option-icon">üîó</div>
                    <h2>Grup Katƒ±l</h2>
                </div>
            </div>
        </div>

        <!-- Grup Kodu Sayfasƒ± -->
        <div id="groupCodePage" class="page">
            <div class="back-button" onclick="backToHome()">‚Üê Geri</div>
            
            <div class="form-container" style="text-align: center;">
                <h2 style="font-size: 1.3em; margin-bottom: 8px; font-weight: 600; color: #333;">Gruba Ho≈ügeldiniz...</h2>
                <h3 id="groupWelcomeTitle" style="font-size: 1.1em; margin-bottom: 30px; font-weight: 500; color: #666;"></h3>
                
                <!-- QR Kodu - Ba≈ülƒ±ƒüƒ±n hemen altƒ±nda -->
                <div style="margin-bottom: 35px;">
                    <div id="qrCodeContainer" style="display: inline-block; padding: 15px; background: white; border-radius: 10px; border: 2px solid #f0f0f0;"></div>
                </div>
                
                <!-- 2 S√ºtunlu Grid: Kod Card ve Payla≈ü Butonu -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <!-- Kod Output Card -->
                    <div style="background: linear-gradient(135deg, #f5f5f5 0%, #ffffff 100%); padding: 30px; border-radius: 10px; border: 2px solid #4A90E2; box-shadow: 0 2px 8px rgba(74, 144, 226, 0.1);">
                        <p style="color: #999; font-size: 0.85em; margin: 0 0 15px 0; font-weight: 600; text-transform: uppercase;">Kod</p>
                        <p id="groupCodeDisplay" style="font-size: 2em; color: #333; font-weight: bold; letter-spacing: 4px; font-family: monospace; margin: 0;"></p>
                    </div>
                    
                    <!-- Payla≈ü Butonu -->
                    <div style="display: flex; flex-direction: column; justify-content: center;">
                        <button onclick="showShareOptions()" style="padding: 30px 20px; font-size: 1.3em; background: linear-gradient(135deg, #11a853 0%, #0d7e3a 100%); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 600; box-shadow: 0 4px 12px rgba(17, 168, 83, 0.3); transition: all 0.3s; height: 100%;">üì§ Payla≈ü</button>
                    </div>
                </div>
                
                <p style="color: #666; margin-top: 30px; font-size: 0.95em; line-height: 1.6;">Kod veya QR koduyla arkada≈ülarƒ±nƒ±zƒ±<br>gruba davet edebilirsiniz.</p>
            </div>
        </div>

        <!-- Payla≈üma Se√ßenekleri Modal -->
        <div id="shareModal" class="modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; justify-content: center; align-items: center;">
            <div style="background: white; border-radius: 12px; padding: 25px; width: 90%; max-width: 400px; box-shadow: 0 4px 20px rgba(0,0,0,0.2);">
                <h3 style="margin-top: 0; margin-bottom: 20px; text-align: center;">Gruba Davet Et</h3>
                
                <div style="display: flex; flex-direction: column; gap: 12px;">
                    <button class="share-option" onclick="shareViaWhatsApp()" style="padding: 15px; background: #f0f0f0; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; font-size: 1em; text-align: left;">
                        üí¨ WhatsApp'ta Payla≈ü
                    </button>
                    <button class="share-option" onclick="shareViaTelegram()" style="padding: 15px; background: #f0f0f0; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; font-size: 1em; text-align: left;">
                        ‚úàÔ∏è Telegram'da Payla≈ü
                    </button>
                    <button class="share-option" onclick="shareViaEmail()" style="padding: 15px; background: #f0f0f0; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; font-size: 1em; text-align: left;">
                        üìß E-posta ile G√∂nder
                    </button>
                    <button class="share-option" onclick="copyGroupCode()" style="padding: 15px; background: #f0f0f0; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; font-size: 1em; text-align: left;">
                        üìã Kodu Kopyala
                    </button>
                </div>
                
                <button onclick="closeShareModal()" style="width: 100%; padding: 12px; margin-top: 15px; background: #e0e0e0; border: none; border-radius: 6px; cursor: pointer; font-size: 0.95em;">Kapat</button>
            </div>
        </div>

        <div id="infoPage" class="page">
            <div class="back-button" onclick="backToHome()">‚Üê Geri</div>
            
            <div class="form-container">
                <h2 id="infoTitle">Bilgilerinizi Girin</h2>
                
                <div class="form-group">
                    <label for="infoFirstName">Adƒ±:</label>
                    <input type="text" id="infoFirstName" placeholder="√ñrn: Ahmet" autocomplete="off">
                </div>
                
                <div class="form-group">
                    <label for="infoLastName">Soyadƒ±:</label>
                    <input type="text" id="infoLastName" placeholder="√ñrn: Yƒ±lmaz" autocomplete="off">
                </div>
                
                <div class="form-group" id="groupIdGroup" style="display: none;">
                    <label for="groupId">Grup ID (ƒ∞steƒüe baƒülƒ±):</label>
                    <input type="text" id="groupId" placeholder="QR koddan group ID" autocomplete="off">
                </div>
                
                <button class="btn btn-primary" onclick="submitInfo()">Devam Et</button>
            </div>
        </div>

        <!-- Restaurant Se√ßimi -->
        <div id="restaurantPage" class="page">
            <div class="back-button" onclick="backToInfo()">‚Üê Geri</div>
            
            <div class="section">
                <h2>üçΩÔ∏è Restaurant Se√ß</h2>
                <div id="restaurantList" class="restaurant-grid"></div>
            </div>
        </div>

        <!-- Profil Sayfasƒ± -->
        <div id="profilePage" class="page">
            <div class="back-button" onclick="backToHome()">‚Üê Geri</div>
            
            <div class="profile-container">
                <div class="profile-header">
                    <div class="profile-avatar">üë§</div>
                    <h1 id="profileName"></h1>
                    <p id="profileEmail"></p>
                </div>

                <div class="profile-content">
                    <!-- √úyelik Bilgileri -->
                    <div class="profile-section">
                        <h2>üìã √úyelik Bilgileri</h2>
                        <div class="info-box">
                            <p><strong>Telefon:</strong> <span id="profilePhone"></span></p>
                            <p><strong>E-posta:</strong> <span id="profileEmailInfo"></span></p>
                            <p><strong>√úyelik Tarihi:</strong> <span id="profileDate"></span></p>
                        </div>
                        <button class="btn-secondary" onclick="editProfile()">D√ºzenle</button>
                    </div>

                    <!-- Sipari≈üler ve Harcamalar -->
                    <div class="profile-section">
                        <h2>üõí Sipari≈ü Ge√ßmi≈üi</h2>
                        <div class="orders-list">
                            <div class="order-item">
                                <div class="order-header">
                                    <div>
                                        <h4>Tarihi Kebap√ßƒ±</h4>
                                        <p class="order-date">20 Aralƒ±k 2025, 19:30</p>
                                    </div>
                                    <div class="order-amount">‚Ç∫ 285.50</div>
                                </div>

                                <!-- Ana Sipari≈ü -->
                                <div class="order-section">
                                    <h5>üçΩÔ∏è Ana Sipari≈ü</h5>
                                    <div class="order-details">
                                        <p>‚Ä¢ Adana Kebap (2 adet) - ‚Ç∫240</p>
                                        <p>‚Ä¢ Ayran (2 adet) - ‚Ç∫24</p>
                                        <p>‚Ä¢ Patlƒ±can Salatasƒ± (1) - ‚Ç∫25</p>
                                        <p class="subtotal">Alt Total: ‚Ç∫289</p>
                                    </div>
                                </div>

                                <!-- √úye Sipari≈üi -->
                                <div class="order-section">
                                    <h5>üí≥ √úye Sipari≈üi</h5>
                                    <div class="member-bill">
                                        <div class="member-item">
                                            <p class="member-name">üë§ Siz</p>
                                            <p class="member-amount">‚Ç∫95.17</p>
                                        </div>
                                        <div class="member-item">
                                            <p class="member-name">üë§ Ahmet</p>
                                            <p class="member-amount">‚Ç∫95.17</p>
                                        </div>
                                        <div class="member-item">
                                            <p class="member-name">üë§ Merve</p>
                                            <p class="member-amount">‚Ç∫95.16</p>
                                        </div>
                                    </div>
                                </div>

                                <button class="btn-small" onclick="viewOrderDetails(1)">Detaylƒ± G√∂r√ºnt√ºle</button>
                            </div>

                            <div class="order-item">
                                <div class="order-header">
                                    <div>
                                        <h4>Modern Pizza House</h4>
                                        <p class="order-date">18 Aralƒ±k 2025, 18:45</p>
                                    </div>
                                    <div class="order-amount">‚Ç∫ 156.00</div>
                                </div>

                                <!-- Ana Sipari≈ü -->
                                <div class="order-section">
                                    <h5>üçΩÔ∏è Ana Sipari≈ü</h5>
                                    <div class="order-details">
                                        <p>‚Ä¢ Margarita Pizza (1 adet) - ‚Ç∫80</p>
                                        <p>‚Ä¢ Sodalarƒ± (2 adet) - ‚Ç∫18</p>
                                        <p class="subtotal">Alt Total: ‚Ç∫98</p>
                                    </div>
                                </div>

                                <!-- √úye Sipari≈üi -->
                                <div class="order-section">
                                    <h5>üí≥ √úye Sipari≈üi</h5>
                                    <div class="member-bill">
                                        <div class="member-item">
                                            <p class="member-name">üë§ Siz</p>
                                            <p class="member-amount">‚Ç∫78.00</p>
                                        </div>
                                        <div class="member-item">
                                            <p class="member-name">üë§ Ali</p>
                                            <p class="member-amount">‚Ç∫78.00</p>
                                        </div>
                                    </div>
                                </div>

                                <button class="btn-small" onclick="viewOrderDetails(2)">Detaylƒ± G√∂r√ºnt√ºle</button>
                            </div>

                            <div class="order-item">
                                <div class="order-header">
                                    <div>
                                        <h4>Restoran Eryaman</h4>
                                        <p class="order-date">15 Aralƒ±k 2025, 20:15</p>
                                    </div>
                                    <div class="order-amount">‚Ç∫ 420.75</div>
                                </div>

                                <!-- Ana Sipari≈ü -->
                                <div class="order-section">
                                    <h5>üçΩÔ∏è Ana Sipari≈ü</h5>
                                    <div class="order-details">
                                        <p>‚Ä¢ Steak (2 adet) - ‚Ç∫320</p>
                                        <p>‚Ä¢ Salata Tabaƒüƒ± (2 adet) - ‚Ç∫50</p>
                                        <p>‚Ä¢ ≈ûarap - ‚Ç∫80</p>
                                        <p class="subtotal">Alt Total: ‚Ç∫450</p>
                                    </div>
                                </div>

                                <!-- √úye Sipari≈üi -->
                                <div class="order-section">
                                    <h5>üí≥ √úye Sipari≈üi</h5>
                                    <div class="member-bill">
                                        <div class="member-item">
                                            <p class="member-name">üë§ Siz</p>
                                            <p class="member-amount">‚Ç∫140.25</p>
                                        </div>
                                        <div class="member-item">
                                            <p class="member-name">üë§ Ahmet</p>
                                            <p class="member-amount">‚Ç∫140.25</p>
                                        </div>
                                        <div class="member-item">
                                            <p class="member-name">üë§ Merve</p>
                                            <p class="member-amount">‚Ç∫140.25</p>
                                        </div>
                                    </div>
                                </div>

                                <button class="btn-small" onclick="viewOrderDetails(3)">Detaylƒ± G√∂r√ºnt√ºle</button>
                            </div>

                            <div class="order-item">
                                <div class="order-header">
                                    <div>
                                        <h4>Kahveci Ali Bey</h4>
                                        <p class="order-date">12 Aralƒ±k 2025, 15:20</p>
                                    </div>
                                    <div class="order-amount">‚Ç∫ 85.00</div>
                                </div>

                                <!-- Ana Sipari≈ü -->
                                <div class="order-section">
                                    <h5>üçΩÔ∏è Ana Sipari≈ü</h5>
                                    <div class="order-details">
                                        <p>‚Ä¢ T√ºrk Kahvesi (3 adet) - ‚Ç∫45</p>
                                        <p>‚Ä¢ Baklava Tabaƒüƒ± - ‚Ç∫40</p>
                                        <p class="subtotal">Alt Total: ‚Ç∫85</p>
                                    </div>
                                </div>

                                <!-- √úye Sipari≈üi -->
                                <div class="order-section">
                                    <h5>üí≥ √úye Sipari≈üi</h5>
                                    <div class="member-bill">
                                        <div class="member-item">
                                            <p class="member-name">üë§ Siz</p>
                                            <p class="member-amount">‚Ç∫42.50</p>
                                        </div>
                                        <div class="member-item">
                                            <p class="member-name">üë§ Cansu</p>
                                            <p class="member-amount">‚Ç∫42.50</p>
                                        </div>
                                    </div>
                                </div>

                                <button class="btn-small" onclick="viewOrderDetails(4)">Detaylƒ± G√∂r√ºnt√ºle</button>
                            </div>
                        </div>
                    </div>

                    <!-- Rezervasyonlar -->
                    <div class="profile-section">
                        <h2>üóìÔ∏è Rezervasyonlar</h2>
                        <div class="info-box">
                            <p><strong>Aktif Rezervasyon:</strong> <span id="activeReservations">0</span></p>
                            <p><strong>Ge√ßmi≈ü Rezervasyon:</strong> <span>8 rezervasyon</span></p>
                        </div>
                        <button class="btn-secondary" onclick="viewReservations()">Rezervasyonlarƒ± Y√∂net</button>
                    </div>

                    <!-- Kuponlar -->
                    <div class="profile-section">
                        <h2>üéüÔ∏è Kuponlar & Bonus Puanlarƒ±</h2>
                        
                        <!-- Bonus Puanlarƒ± -->
                        <div class="bonus-section">
                            <div class="bonus-header">
                                <div>
                                    <h3>Bonus Puanlarƒ±nƒ±z</h3>
                                    <p id="bonusPoints" class="bonus-amount">2,450 Puan</p>
                                </div>
                                <div class="status-badge" id="statusBadge">Gold √úye</div>
                            </div>
                            
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" id="progressFill" style="width: 75%;"></div>
                                </div>
                                <p class="progress-text">2,450 / 5,000 puanƒ±na kadar Silver'dan Gold'a √ßƒ±k</p>
                            </div>
                            
                            <div class="status-levels">
                                <div class="level">
                                    <span class="level-icon">ü•â</span>
                                    <span>Bronze</span>
                                    <span class="level-range">(0-1000)</span>
                                </div>
                                <div class="level">
                                    <span class="level-icon">ü•à</span>
                                    <span>Silver</span>
                                    <span class="level-range">(1001-5000)</span>
                                </div>
                                <div class="level active">
                                    <span class="level-icon">ü•á</span>
                                    <span>Gold</span>
                                    <span class="level-range">(5001+)</span>
                                </div>
                            </div>
                            
                            <div class="level-benefits">
                                <h4>Gold √úye Avantajlarƒ±</h4>
                                <ul>
                                    <li>‚úÖ Her sipari≈üte %10 bonus puan</li>
                                    <li>‚úÖ √ñzel indirim kuponlarƒ±</li>
                                    <li>‚úÖ Doƒüum g√ºn√º hediyesi</li>
                                    <li>‚úÖ VIP m√º≈üteri desteƒüi</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div class="coupon-tabs">
                            <button class="tab-btn active" onclick="switchCouponTab('active')">Kullanƒ±lmamƒ±≈ü</button>
                            <button class="tab-btn" onclick="switchCouponTab('used')">Kullanƒ±lan</button>
                        </div>
                        <div id="activeCoupons" class="coupon-list">
                            <div class="coupon-card">
                                <div class="coupon-header">50‚Ç∫ ƒ∞ndirim</div>
                                <p>100‚Ç∫ √ºzeri alƒ±≈üveri≈ülerde ge√ßerli</p>
                                <p class="coupon-code">Kod: HAPPY50</p>
                            </div>
                            <div class="coupon-card">
                                <div class="coupon-header">%10 ƒ∞ndirim</div>
                                <p>T√ºm pizzalarda ge√ßerli</p>
                                <p class="coupon-code">Kod: PIZZA10</p>
                            </div>
                        </div>
                        <div id="usedCoupons" class="coupon-list" style="display: none;">
                            <div class="coupon-card used">
                                <div class="coupon-header">25‚Ç∫ ƒ∞ndirim</div>
                                <p>Kullanƒ±m tarihi: 15 Aralƒ±k 2025</p>
                                <p class="coupon-code">Kod: WELCOME25</p>
                            </div>
                        </div>
                    </div>

                    <!-- √ñdeme Ara√ßlarƒ± -->
                    <div class="profile-section">
                        <h2>üí≥ √ñdeme Ara√ßlarƒ±</h2>
                        <div class="card-list">
                            <div class="card-item">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="20" fill="#FF6B6B">
                                    <rect x="2" y="5" width="20" height="14" rx="2"/>
                                    <line x1="2" y1="11" x2="22" y2="11"/>
                                </svg>
                                <div>
                                    <p><strong>Visa Card</strong></p>
                                    <p class="card-number">‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ 4242</p>
                                </div>
                                <button class="btn-small">Sil</button>
                            </div>
                            <div class="card-item">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="30" height="20" fill="#4ECDC4">
                                    <rect x="2" y="5" width="20" height="14" rx="2"/>
                                    <line x1="2" y1="11" x2="22" y2="11"/>
                                </svg>
                                <div>
                                    <p><strong>Mastercard</strong></p>
                                    <p class="card-number">‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ 5555</p>
                                </div>
                                <button class="btn-small">Sil</button>
                            </div>
                        </div>
                        <button class="btn-secondary" onclick="addPaymentMethod()">Yeni Kart Ekle</button>
                    </div>

                    <!-- ≈ûifre Deƒüi≈ütirme -->
                    <div class="profile-section">
                        <h2>üîê G√ºvenlik</h2>
                        <button class="btn-secondary" onclick="changePassword()">≈ûifre Deƒüi≈ütir</button>
                    </div>

                    <!-- √áƒ±kƒ±≈ü -->
                    <div class="profile-section">
                        <button class="btn-danger" onclick="logout()">√áƒ±kƒ±≈ü Yap</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Men√º Sayfasƒ± -->
        <div id="menuPage" class="page">
            <div class="back-button" onclick="backToRestaurant()">‚Üê Geri</div>
            
            <div class="menu-header">
                <h2 id="restaurantName">Restaurant Adƒ±</h2>
                <p id="restaurantInfo">Telefon: <span id="restaurantPhone"></span></p>
            </div>
            
            <div class="tabs">
                <div id="categoryTabs" class="category-tabs"></div>
            </div>
            
            <div id="menuItems" class="menu-items"></div>
            
            <div class="menu-footer">
                <button class="btn btn-secondary" onclick="goToCart()">üõí Sipari≈ü Listesine Git (Adet: <span id="cartCount">0</span>)</button>
            </div>
        </div>

        <!-- Sipari≈ü Listesi ve Hesap B√∂lme -->
        <div id="cartPage" class="page">
            <div class="back-button" onclick="backToMenu()">‚Üê Geri</div>
            
            <h2>üõí Sipari≈üler ve Hesap B√∂lme</h2>
            
            <div id="ordersSection" class="orders-section">
                <div id="ordersList"></div>
            </div>
            
            <div class="summary-section">
                <div class="summary-card">
                    <h3>üí∞ Toplam Tutarlar</h3>
                    <div id="summaryItems"></div>
                    <hr>
                    <div class="total-row">
                        <strong>Genel Toplam:</strong>
                        <strong id="grandTotal">0.00 ‚Ç∫</strong>
                    </div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="resetAll()">Yeni Hesaplama</button>
            </div>
        </div>
    </div>

    <!-- √úr√ºn Detay Modal -->
    <div id="itemModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeItemModal()">&times;</span>
            
            <div id="itemModalBody">
                <!-- Dinamik i√ßerik -->
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="script.js?t=20260102022526"></script>
</body>
</html>
